{% extends 'news/base.html' %}
{% load static %}

{% block content %}

<div class="news-header">
    <h1>{{ title }}</h1>
</div>

<div class="digital-razor-grid">
    {% for p in posts %}
    <div class="news-card">
        <div class="news-image-container">
            <a href="{{ p.get_absolute_url }}" class="news-image-link">
                {% if p.image %}
                <img src="{{ p.image.url }}" alt="{{ p.title }}" class="news-image">
                {% else %}
                <img src="{% static 'images/default_news.jpg' %}" alt="Default image" class="news-image">
                {% endif %}
            </a>
        </div>
        <div class="news-content">
            <div class="news-meta">
                <span class="news-date">{{ p.time_news|date:"d.m.Y" }}</span>
                <span class="news-category">{{ p.cat }}</span>
            </div>
            <h3 class="news-title">
                <a href="{{ p.get_absolute_url }}">{{ p.title }}</a>
            </h3>
            <p class="news-excerpt">{{ p.content|striptags|truncatewords:20 }}</p>
            <a href="{{ p.get_absolute_url }}" class="news-read-more">Читать далее →</a>
        </div>
    </div>
    {% endfor %}
</div>

{% endblock %}